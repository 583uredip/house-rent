<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - House Rent System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="theme-toggle">
        <button id="theme-btn" onclick="toggleTheme()">üåô</button>
    </div>

    <div class="container">
        <!-- Login Section -->
        <div id="login-section" class="card login-card">
            <h2>Admin Login</h2>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter password">
            </div>
            <button onclick="adminLogin()" class="btn-primary">Login</button>
            <p id="login-error" class="error-msg"></p>
            <a href="index.html" class="back-link">‚Üê Back to Home</a>
        </div>

        <!-- Dashboard Section (Hidden by default) -->
        <div id="admin-dashboard" class="dashboard hidden">
            <header class="dashboard-header">
                <h1>Admin Dashboard</h1>
                <button onclick="logout()" class="btn-secondary">Logout</button>
            </header>

            <div class="card calculation-card">
                <h3>Calculate Monthly Rent</h3>
                <div class="grid-form">
                    <div class="form-group">
                        <label for="rent-month">Select Month</label>
                        <input type="month" id="rent-month">
                    </div>
                    <div class="form-group">
                        <label for="total-flat-rent">Total Flat Rent</label>
                        <input type="number" id="total-flat-rent" placeholder="e.g. 32351">
                    </div>
                    <div class="form-group full-width" style="grid-column: 1 / -1;">
                        <label for="drive-link">Monthly Meal Sheet Link (Optional)</label>
                        <input type="url" id="drive-link" placeholder="https://docs.google.com/spreadsheets/u/0/d/1ospv2WOK2sDL2Ys3KBS3c3u4W4OEP8b1DXdxsjmfNXY/htmlview?usp=gmail_thread&pli=1#"
                            value="https://docs.google.com/spreadsheets/u/0/d/1ospv2WOK2sDL2Ys3KBS3c3u4W4OEP8b1DXdxsjmfNXY/htmlview?usp=gmail_thread&pli=1#">
                    </div>
                </div>
                <button onclick="calculateAndSave()" class="btn-primary full-width">Calculate & Save</button>
            </div>

            <!-- History Section -->
            <div class="card history-card">
                <h3>üìú Rent History</h3>
                <div class="grid-form">
                    <div class="form-group">
                        <label for="history-select">View Past Months</label>
                        <select id="history-select">
                            <option value="">No history available</option>
                        </select>
                    </div>
                </div>
                <button id="delete-btn" class="btn-danger full-width" style="margin-top: 1rem;">Delete Selected
                    Month</button>
            </div>

            <div id="result-section" class="hidden">
                <h3>Calculation Summary</h3>
                <div class="table-responsive">
                    <table class="summary-table">
                        <thead>
                            <tr>
                                <th>Room</th>
                                <th>Members</th>
                                <th>Base Rent</th>
                                <th>Service</th>
                                <th>WiFi</th>
                                <th>Khala</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody id="summary-body">
                            <!-- Rows tailored by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <a href="index.html" class="back-link block-link">‚Üê Back to Home</a>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>